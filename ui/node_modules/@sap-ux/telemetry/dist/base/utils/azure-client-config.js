"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.configAzureTelemetryClient = configAzureTelemetryClient;
/**
 * Enable local caching of telemetry data when offline.
 * Disable GDPR private data that are collected by Azure AppInsight client.
 *
 * @param client Azure App Insights telemetry client instance
 */
function configAzureTelemetryClient(client) {
    client.channel.setUseDiskRetryCaching(true);
    client.addTelemetryProcessor((envelope) => {
        envelope.tags['ai.location.ip'] = '0.0.0.0';
        envelope.tags['ai.cloud.roleInstance'] = 'masked';
        envelope.tags['ai.cloud.role'] = 'masked';
        envelope.tags['ai.device.type'] = 'masked';
        return true;
    });
}
//# sourceMappingURL=azure-client-config.js.map